<div class="container mt-4">
  <div class="d-flex justify-content-between mb-2">
    <h2>Gestion des utilisateurs</h2>
    <span class="spacer"></span>
    <button mat-raised-button color="primary" (click)="navigateToaddutilisateur()">Ajouter un utilisateur</button>
  </div>
  <table class="table mr-2">
    <thead>
    <tr>
      <th><input type="checkbox"></th>
      <th>ID</th>
      <th>Nom Utilisateur</th>
      <th>E-mail</th>
      <th>Roles</th>
      <th>Editer</th>
      <th>Désactiver</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of users" [ngClass]="{ 'disabled-row': !user.verified }">
      <td><input type="checkbox" [checked]="user.verified" (change)="toggleVerification(user)"></td>
      <td>{{ user.id }}</td>
      <td>{{ user.fullname }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.role }}</td>
      <td>
        <button mat-icon-button color="primary" (click)="editUser(user)" [disabled]="!user.verified">
          <mat-icon>edit</mat-icon>
        </button>
        <!-- <button mat-icon-button color="warn" (click)="deleteUser(user)">
          <mat-icon>delete</mat-icon>
        </button> -->
      </td>
      <td>
        <label class="switch">
          <input type="checkbox" [checked]="user.verified" (change)="toggleVerification(user)">
          <span class="slider round"></span>
        </label>
      </td>
    </tr>
    </tbody>
  </table>

  <p class="mb-4">{{ users.length }} utilisateurs {{ users.length > 1 ? 'résultats' : 'résultat' }}</p>

  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1">Précédent</a>
      </li>
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#">Suivant</a>
      </li>
    </ul>
  </nav>
</div>
<router-outlet></router-outlet>
